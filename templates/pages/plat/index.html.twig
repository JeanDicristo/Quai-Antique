{% extends 'base.html.twig' %}

{% block title %}Ajouter un plat
{% endblock %}

{% block body %}
	<div
		class="container mt-4">
		{#read and display just one flash message type #}
		{% for message in app.flashes('success') %}
			<div class="alert alert-success mt-4">
				{{ message }}
			</div>
		{% endfor %}

		{% if not plats.items is same as([]) %}
			<h1>mes plat</h1>

			<a href="{{ path('plat.new')}}" class="btn btn-primary">
				créer un plat
			</a>

			{% for plat in plats %}
				<div class="card text-white bg-primary mb-3 mt-4" style="max-width: 20rem;">
					<div class="card-header">{{plat.image}}</div>
					<div class="card-body">
						<h4 class="card-title">{{plat.name}}</h4>
						<h4 class="card-price">{{plat.price}}€</h4>
						<p class="card-text">{{plat.description}}</p>

					</div>
					<a href="{{ path('plat.delete', {id: plat.id}) }}" class="btn btn-danger">supprimer</a>
					<a href="{{ path('plat.edit', {id: plat.id}) }}" class="btn btn-warning">modifier</a>
				</div>
			{% endfor %}
			<div class="navigation d-flex justify-content-center mt-4">
				{{ knp_pagination_render(plats) }}
			</div>
		</div>
	{% endif %}
	<a href="{{ path('plat.new')}}" class="btn btn-primary">
		créer un plat
	</a>
{% endblock %}
